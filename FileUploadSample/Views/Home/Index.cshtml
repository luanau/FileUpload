@using FileUploadSample.Controllers;
@{
    ViewData["Title"] = "Home Page";
    var myFiles = ViewData["myFiles"] as FileLink[];
}
<h1>Upload Files</h1>
<div class="row">
    <section>
        <form method="post" enctype="multipart/form-data" asp-controller="UploadFiles" asp-action="Index">
            <div class="form-group">
                <div class="col-md-10">
                    <p>Upload one or more files using this form:</p>
                    <input type="file" name="files" multiple />
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-10">
                    <input type="submit" value="Upload" />
                </div>
            </div>
        </form>
    </section>
</div>
<hr />
<h3>Other Samples</h3>
<ul>
    <li><a asp-controller="Profile" asp-action="Index">Profile Sample</a></li>
    <li><a asp-controller="Streaming" asp-action="Index">Streaming Upload Sample</a></li>
</ul>
<h3>Link to files</h3>
<div id="FileLinks">
    @foreach (FileLink file in myFiles)
    {
    <div class="row">
        <span class="col-md-4">@file.FileName</span>
        <a href="UploadFiles\OpenFile?fileName=@file.FileName" class="col-md-1 btn btn-default" target="_blank">Open</a>
        <a href="UploadFiles\Download?fileName=@file.FileName" target="_blank" class="col-md-1 btn btn-default ml-1">Download</a>
        <a href="UploadFiles\Delete?fileName=@file.FileName" target="_blank" class="col-md-1 btn btn-danger ml-1">Delete</a>

    </div>
    }
</div>
